<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø¥Ù†Ù‚Ø§Ø° Ø§Ù„Ø·Ø§Ø¦Ø±Ø© - ÙŠØ§Ø³Ø± Ù…ÙØ±Ø­ Ø§Ù„Ø¹Ù†Ø²ÙŠ 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; font-family: 'Cairo', sans-serif; background: #0ea5e9; display: flex; justify-content: center; align-items: center; min-height: 100vh; overflow: auto; padding: 10px; }
        
        .box { 
            width: 100%; 
            max-width: 500px; 
            background: #fff; 
            border-radius: 25px; 
            border: 5px solid #ef4444; 
            padding: 15px; 
            text-align: center; 
            position: relative; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.3); 
            z-index: 100; 
            display: flex; flex-direction: column;
        }
        
        .rights-box { background: #f1f5f9; padding: 8px; border-radius: 12px; margin-bottom: 10px; border: 1px solid #e2e8f0; }
        .rights-text { color: #475569; font-size: 12px; font-weight: 700; margin: 0; }
        
        .sky { 
            height: 200px; 
            position: relative; 
            overflow: hidden; 
            border-radius: 15px; 
            background: linear-gradient(#38bdf8, #87ceeb); 
            border: 3px solid #0284c7; 
            margin: 10px 0; 
        }
        
        /* Ø§Ù„ØºÙŠÙˆÙ… */
        .cloud { position: absolute; background: white; width: 60px; height: 20px; border-radius: 20px; opacity: 0.8; animation: moveClouds 15s linear infinite; }
        .cloud::before, .cloud::after { content: ''; position: absolute; background: white; border-radius: 50%; }
        .cloud::before { width: 30px; height: 30px; top: -15px; left: 10px; }
        .cloud::after { width: 20px; height: 20px; top: -10px; left: 30px; }
        .c1 { top: 30px; animation-duration: 18s; }
        .c2 { top: 80px; animation-duration: 25s; animation-delay: -5s; }
        .c3 { top: 140px; animation-duration: 20s; animation-delay: -10s; }
        @keyframes moveClouds { from { left: -100px; } to { left: 110%; } }

        .sun { position: absolute; width: 40px; height: 40px; background: radial-gradient(circle, #ffd700, #ff8c00); border-radius: 50%; top: 15px; right: 15px; z-index: 1; }

        .plane-container { position: absolute; right: 15%; top: 45%; width: 110px; transition: all 1s ease-in-out; z-index: 50; }
        
        /* Ø§Ù„Ø­Ø±ÙŠÙ‚ Ø§Ù„Ø·ÙˆÙŠÙ„ ÙˆØ§Ù„Ù…ÙˆØ§Ø²ÙŠ Ù„Ù„Ù…Ø­Ø±Ùƒ */
        #fire-effect {
            position: absolute; 
            top: 52%; 
            right: -10px; 
            width: 120px; 
            height: 5px; 
            background: linear-gradient(to left, #ff4500, #ff8c00, #ffdb58, transparent);
            border-radius: 10px; 
            filter: blur(1.5px); 
            display: none;
            animation: flickerLong 0.1s infinite alternate; 
            z-index: 45;
        }
        @keyframes flickerLong { from { width: 100px; opacity: 0.8; } to { width: 140px; opacity: 1; } }

        #plane { width: 100%; position: relative; z-index: 55; }
        .safe-landing { transform: translateY(140px) translateX(-250px) rotate(-3deg) scale(0.6) !important; transition: transform 6s ease-in-out !important; }

        #captain-msg { 
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); 
            background: rgba(220, 38, 38, 0.95); color: #fff; padding: 15px; 
            border-radius: 15px; z-index: 1000; font-weight: 900; width: 85%; 
            border: 3px dashed #fff; display: none; font-size: 16px;
        }

        .timer-bar { height: 8px; background: #e5e7eb; border-radius: 10px; overflow: hidden; margin: 10px 0; }
        #progress { height: 100%; background: #ef4444; width: 100%; transition: 0.1s linear; }
        
        .q-card { background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 15px; padding: 10px; font-weight: 800; min-height: 60px; display: flex; align-items: center; justify-content: center; margin-bottom: 10px; }
        .opts { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
        .opt-btn { padding: 15px 5px; border-radius: 12px; border: 2px solid #cbd5e1; font-family: 'Cairo'; font-weight: 700; cursor: pointer; background: #fff; font-size: 16px; transition: 0.2s; width: 100%; }
        .correct { background: #22c55e !important; color: white !important; }
        .wrong { background: #ef4444 !important; color: white !important; }
        
        .hidden { display: none !important; }
        .control-row { margin: 15px 0; display: flex; align-items: center; justify-content: center; gap: 15px; font-weight: bold; font-size: 16px; }
        input[type="range"] { accent-color: #ef4444; cursor: pointer; height: 8px; flex: 1; max-width: 150px; }
        input[type="text"] { width: 100%; padding: 12px; border-radius: 12px; border: 2px solid #ddd; text-align: center; font-family: 'Cairo'; margin-bottom: 15px; }
    </style>
</head>
<body>

<div class="box">
    <div id="start-scr">
        <div class="rights-box"><p class="rights-text">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©: ÙŠØ§Ø³Ø± Ù…ÙØ±Ø­ Ø§Ù„Ø¹Ù†Ø²ÙŠ 2026</p></div>
        <h1 style="color:#ef4444; margin:0; font-size: 30px; font-weight: 900;">Ø£Ù†Ù‚Ø° Ø§Ù„Ø·Ø§Ø¦Ø±Ø©</h1>
        <img src="https://i.ibb.co/ccvY49sb/image.png" style="width: 100px; margin: 15px;">
        
        <div class="control-row">
            <span>ğŸ”ˆ Ø§Ù„ØµÙˆØª</span>
            <input type="range" id="vol-slider" min="0" max="1" step="0.1" value="0.5" onchange="updateVol(this.value)">
            <span>ğŸ”Š</span>
        </div>
        
        <div class="control-row">
            <span>ğŸ“± Ø§Ù„Ø­Ø¬Ù…</span>
            <input type="range" min="300" max="800" step="10" value="500" oninput="resizeGame(this.value)">
            <span>ğŸ–¥ï¸</span>
        </div>

        <input id="pilot-name" type="text" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ù‚Ø°">
        <button onclick="startMission()" style="background:#ef4444; color:white; border:none; padding:15px; width:100%; border-radius:15px; font-size:18px; font-weight:900; cursor:pointer;">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ù‡Ù…Ø© ğŸš€</button>
    </div>

    <div id="game-scr" class="hidden">
        <div class="sky">
            <div class="sun"></div>
            <div class="cloud c1"></div><div class="cloud c2"></div><div class="cloud c3"></div>
            <div id="captain-msg"></div>
            <div class="plane-container" id="p-cont">
                <div id="fire-effect"></div>
                <img id="plane" src="https://i.ibb.co/ccvY49sb/image.png">
            </div>
        </div>
        <div class="header" style="display:flex; justify-content:space-between; font-weight:bold; font-size: 14px;">
            <div id="disp-name"></div>
            <div>Ø§Ù„Ø³Ø¤Ø§Ù„: <span id="q-idx">1</span>/10</div>
            <div>Ø§Ù„Ø£Ø¹Ø·Ø§Ù„: <span id="dmg">0</span>/3</div>
        </div>
        <div class="timer-bar"><div id="progress"></div></div>
        <div class="q-card" id="q-text"></div>
        <div class="opts" id="opt-box"></div>
    </div>

    <div id="end-scr" class="hidden">
        <h2 id="final-status"></h2>
        <div id="score-res" style="font-size: 30px; font-weight: 900; color: #0284c7;"></div>
        <button onclick="location.reload()" style="background:#0284c7; color:white; border:none; padding:15px; width:100%; border-radius:15px; font-weight:900; cursor:pointer;">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ğŸ”„</button>
    </div>
</div>

<audio id="snd-correct" src="https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"></audio>
<audio id="snd-alert" src="https://assets.mixkit.co/active_storage/sfx/2578/2578-preview.mp3"></audio>
<audio id="snd-fire" src="https://mp4.shabakngy.com/m/m/dbAFUdqCIuU.mp3"></audio> 
<audio id="snd-crash-final" src="https://mp4.shabakngy.com/m/m/Q7LB-rx1TPw.mp3"></audio>
<audio id="snd-landing" src="https://mp4.shabakngy.com/m/m/El2mpazm0wo.mp3"></audio>

<script>
    let score = 0, qNum = 0, clock, damage = 0, locked = false;
    let audios = ['snd-correct', 'snd-alert', 'snd-fire', 'snd-crash-final', 'snd-landing'];

    function updateVol(val) { audios.forEach(id => { document.getElementById(id).volume = val; }); }
    function resizeGame(val) { document.querySelector('.box').style.maxWidth = val + 'px'; }

    let questionsData = [
        {q: "Ù…Ø¬Ù…ÙˆØ¹ Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ù…Ø«Ù„Ø«ØŸ", o: ["180Â°", "90Â°", "360Â°", "270Â°"], a: 0},
        {q: "Ø¬Ø°Ø± Ø§Ù„Ø¹Ø¯Ø¯ 64 Ù‡Ùˆ:", o: ["6", "7", "8", "9"], a: 2},
        {q: "Ø§Ù„Ø²Ø§ÙˆÙŠØªØ§Ù† Ø§Ù„Ù…ØªØªØ§Ù…ØªØ§Ù† Ù…Ø¬Ù…ÙˆØ¹Ù‡Ù…Ø§ØŸ", o: ["180Â°", "90Â°", "45Â°", "360Â°"], a: 1},
        {q: "Ù‚ÙŠÙ…Ø© Ø³ ÙÙŠ 2Ø³=10 Ù‡ÙŠ:", o: ["2", "5", "8", "20"], a: 1},
        {q: "Ø§Ù„Ù…Ù†ÙˆØ§Ù„ Ù„Ù„Ù‚ÙŠÙ… (1,2,2,3) Ù‡Ùˆ:", o: ["1", "2", "3", "4"], a: 1},
        {q: "Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù‚ÙŠØ§Ø³Ù‡Ø§ØŸ", o: ["90Â°", "180Â°", "45Â°", "360Â°"], a: 0},
        {q: "Ù…Ø³Ø§Ø­Ø© Ù…Ø±Ø¨Ø¹ Ø·ÙˆÙ„ Ø¶Ù„Ø¹Ù‡ 4Ø³Ù…ØŸ", o: ["8Ø³Ù…", "12Ø³Ù…", "16Ø³Ù…", "20Ø³Ù…"], a: 2},
        {q: "Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙˆÙ„ÙŠ Ù‡Ùˆ:", o: ["4", "6", "7", "9"], a: 2},
        {q: "Ù†ØµÙ Ø§Ù„Ø¹Ø¯Ø¯ 100 Ù‡Ùˆ:", o: ["25", "50", "75", "10"], a: 1},
        {q: "3 Ã— 3 Ã— 3 ØªØ³Ø§ÙˆÙŠ:", o: ["9", "18", "27", "81"], a: 2}
    ];

    let questions = questionsData.sort(() => Math.random() - 0.5);

    function startMission() {
        if (!document.getElementById('pilot-name').value) return alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ù‚Ø°!");
        document.getElementById('disp-name').innerText = "Ø§Ù„Ø·ÙŠØ§Ø±: " + document.getElementById('pilot-name').value;
        document.getElementById('start-scr').classList.add('hidden');
        document.getElementById('game-scr').classList.remove('hidden');
        updateVol(document.getElementById('vol-slider').value);
        showMsg("Ø§Ø³ØªØ¹Ø¯.. Ø§Ù„Ø·Ø§Ø¦Ø±Ø© ÙÙŠ Ø¹Ù‡Ø¯ØªÙƒ Ø§Ù„Ø¢Ù†!", 2000, true);
    }

    function loadQ() {
        if (damage >= 3) return;
        if (qNum >= questions.length) { executeLanding(); return; }
        locked = false; 
        document.getElementById('q-idx').innerText = qNum + 1;
        let data = questions[qNum];
        document.getElementById('q-text').innerText = data.q;
        const box = document.getElementById('opt-box');
        box.innerHTML = "";
        data.o.forEach((opt, idx) => {
            let btn = document.createElement('button');
            btn.className = "opt-btn";
            btn.innerText = opt;
            btn.onclick = () => check(idx === data.a, btn);
            box.appendChild(btn);
        });
        startClock();
    }

    function startClock() {
        clearInterval(clock);
        let time = 10;
        clock = setInterval(() => {
            if (!locked) {
                time -= 0.1;
                document.getElementById('progress').style.width = (time / 10 * 100) + "%";
                if (time <= 0) { clearInterval(clock); check(false, null); }
            }
        }, 100);
    }

    function check(isRight, btn) {
        if (locked) return; 
        locked = true; 
        clearInterval(clock);
        if (isRight) {
            score++;
            if (btn) btn.classList.add('correct');
            document.getElementById('snd-correct').play();
            setTimeout(() => { qNum++; loadQ(); }, 1000);
        } else {
            damage++;
            if (btn) btn.classList.add('wrong');
            handleDmg();
        }
        document.getElementById('dmg').innerText = damage;
    }

    function handleDmg() {
        if (damage === 1) {
            document.getElementById('snd-alert').play();
            showMsg("âš ï¸ ØªÙ†Ø¨ÙŠÙ‡: Ø®Ù„Ù„ Ø¨Ø³ÙŠØ·!", 2000, true);
        } else if (damage === 2) {
            document.getElementById('fire-effect').style.display = 'block';
            document.getElementById('snd-fire').play(); 
            showMsg("ğŸ”¥ Ø®Ø·Ø±: Ø§Ø´ØªØ¹Ø§Ù„ ÙÙŠ Ø§Ù„Ù…Ø­Ø±Ùƒ!", 3000, true);
        } else if (damage === 3) {
            executeCrash();
        }
        if(damage < 3) qNum++;
    }

    function executeLanding() {
        document.getElementById('fire-effect').style.display = 'none';
        document.getElementById('p-cont').classList.add('safe-landing');
        document.getElementById('snd-landing').play(); 
        showMsg("ğŸ† ÙƒÙÙˆ! Ù‡Ø¨Ø·Øª Ø¨Ø³Ù„Ø§Ù…", 6000, false);
        document.getElementById('snd-landing').onended = () => endMission(true);
    }

    function executeCrash() {
        document.getElementById('snd-crash-final').play();
        document.getElementById('p-cont').style.transform = "translateY(500px) rotate(120deg)";
        document.getElementById('p-cont').style.transition = "4s";
        showMsg("ğŸ†˜ Ù†Ø¯Ø§Ø¡ Ø§Ø³ØªØºØ§Ø«Ø©.. Ø³Ù‚Ø·Ù†Ø§!", 4000, false);
        document.getElementById('snd-crash-final').onended = () => endMission(false);
    }

    function showMsg(text, time, next) {
        const msgBox = document.getElementById('captain-msg');
        msgBox.innerText = text;
        msgBox.style.display = 'block';
        setTimeout(() => { 
            msgBox.style.display = 'none'; 
            if(next) loadQ(); 
        }, time);
    }

    function endMission(success) {
        document.getElementById('game-scr').classList.add('hidden');
        document.getElementById('end-scr').classList.remove('hidden');
        document.getElementById('final-status').innerText = success ? "ğŸ† Ø¨Ø·Ù„! Ø£Ù†Ù‚Ø°Øª Ø§Ù„Ø¬Ù…ÙŠØ¹" : "âŒ ØªØ­Ø·Ù…Øª Ø§Ù„Ø·Ø§Ø¦Ø±Ø©";
        document.getElementById('score-res').innerText = "Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: " + score;
    }
</script>
</body>
</html>
